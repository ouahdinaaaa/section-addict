{% schema %}
{
  "name": "Texte encadré",
  "settings": [
    {
      "type": "textarea",
      "id": "highlight_text",
      "label": "Texte à afficher",
      "default": "Retrouvez tous les jeux emblématiques intégrés à la console R36S : aventures rétro, classiques cultes et perles cachées. Découvrez les titres les plus populaires selon la communauté !"
    },
    {
      "type": "text",
      "id": "text_size",
      "label": "Taille du texte (ex : 18px)",
      "default": "18px"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Couleur du texte",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Couleur de la bordure",
      "default": "#ffffff"
    },
    {
      "type": "text",
      "id": "border_radius",
      "label": "Rayon des coins (ex : 10px)",
      "default": "10px"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Couleur du fond",
      "default": "transparent"
    },
    {
      "type": "text",
      "id": "padding",
      "label": "Padding interne (ex : 20px)",
      "default": "20px"
    },
    {
      "type": "text",
      "id": "max_width",
      "label": "Largeur maximale (ex : 600px ou 100%)",
      "default": "600px"
    }
  ],
  "presets": [
    {
      "name": "Texte encadré",
      "category": "Texte"
    }
  ]
}
{% endschema %}

<style>
  .full-width-section {
    width: 100vw;
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
    background-color: black;
    padding: 40px 20px;
    box-sizing: border-box;
  }
  
  .highlight-box {
    border: 1px solid {{ section.settings.border_color }};
    border-radius: {{ section.settings.border_radius }};
    background-color: {{ section.settings.background_color }};
    padding: {{ section.settings.padding }};
    max-width: {{ section.settings.max_width }};
    margin: 0 auto;
    text-align: center;
    box-sizing: border-box;
    transition: all 0.3s ease;
  }
  
  .highlight-box p {
    color: {{ section.settings.text_color }};
    font-size: {{ section.settings.text_size }};
    font-weight: bold;
    margin: 0;
    text-decoration: none;
    line-height: 1.6;
    word-wrap: break-word;
    hyphens: auto;
  }

  /* Responsive Design */
  
  /* Tablettes et écrans moyens */
  @media (max-width: 1024px) {
    .full-width-section {
      padding: 35px 18px;
    }
    
    .highlight-box {
      max-width: 90%;
      padding: calc({{ section.settings.padding }} * 0.9);
    }
    
    .highlight-box p {
      font-size: calc({{ section.settings.text_size }} * 0.95);
      line-height: 1.5;
    }
  }

  /* Tablettes portrait */
  @media (max-width: 768px) {
    .full-width-section {
      padding: 30px 16px;
    }
    
    .highlight-box {
      max-width: 95%;
      padding: calc({{ section.settings.padding }} * 0.8);
      border-radius: calc({{ section.settings.border_radius }} * 0.8);
    }
    
    .highlight-box p {
      font-size: calc({{ section.settings.text_size }} * 0.9);
      line-height: 1.5;
    }
  }

  /* Smartphones paysage */
  @media (max-width: 640px) {
    .full-width-section {
      padding: 25px 14px;
    }
    
    .highlight-box {
      max-width: 98%;
      padding: calc({{ section.settings.padding }} * 0.7);
    }
    
    .highlight-box p {
      font-size: calc({{ section.settings.text_size }} * 0.85);
      line-height: 1.4;
    }
  }

  /* Smartphones portrait */
  @media (max-width: 480px) {
    .full-width-section {
      padding: 20px 12px;
    }
    
    .highlight-box {
      max-width: 100%;
      padding: calc({{ section.settings.padding }} * 0.6);
      border-radius: calc({{ section.settings.border_radius }} * 0.7);
      margin: 0 auto;
    }
    
    .highlight-box p {
      font-size: calc({{ section.settings.text_size }} * 0.8);
      line-height: 1.4;
      text-align: center;
    }
  }

  /* Petits smartphones */
  @media (max-width: 360px) {
    .full-width-section {
      padding: 15px 10px;
    }
    
    .highlight-box {
      padding: calc({{ section.settings.padding }} * 0.5);
      border-radius: calc({{ section.settings.border_radius }} * 0.6);
    }
    
    .highlight-box p {
      font-size: calc({{ section.settings.text_size }} * 0.75);
      line-height: 1.3;
    }
  }

  /* Très petits écrans */
  @media (max-width: 320px) {
    .full-width-section {
      padding: 12px 8px;
    }
    
    .highlight-box {
      padding: calc({{ section.settings.padding }} * 0.4);
      border-radius: calc({{ section.settings.border_radius }} * 0.5);
      border-width: 1px;
    }
    
    .highlight-box p {
      font-size: calc({{ section.settings.text_size }} * 0.7);
      line-height: 1.3;
      font-weight: 600;
    }
  }

  /* Orientation paysage sur mobile */
  @media (max-height: 500px) and (orientation: landscape) {
    .full-width-section {
      padding: 15px 20px;
    }
    
    .highlight-box {
      max-width: 80%;
    }
    
    .highlight-box p {
      font-size: calc({{ section.settings.text_size }} * 0.85);
      line-height: 1.3;
    }
  }

  /* Écrans très larges */
  @media (min-width: 1200px) {
    .full-width-section {
      padding: 50px 20px;
    }
    
    .highlight-box {
      max-width: min({{ section.settings.max_width }}, 800px);
      padding: calc({{ section.settings.padding }} * 1.1);
    }
    
    .highlight-box p {
      font-size: calc({{ section.settings.text_size }} * 1.05);
      line-height: 1.7;
    }
  }

  /* Amélioration de l'accessibilité */
  @media (prefers-reduced-motion: reduce) {
    .highlight-box {
      transition: none;
    }
  }

  /* Mode sombre automatique */
  @media (prefers-color-scheme: dark) {
    .highlight-box {
      box-shadow: 0 2px 10px rgba(255, 255, 255, 0.1);
    }
  }

  /* Amélioration pour le contraste élevé */
  @media (prefers-contrast: high) {
    .highlight-box {
      border-width: 2px;
    }
  }
</style>

<div class="full-width-section" style="padding:10px 20px 60px">
  <div class="highlight-box">
    <p>{{ section.settings.highlight_text }}</p>
  </div>
</div>